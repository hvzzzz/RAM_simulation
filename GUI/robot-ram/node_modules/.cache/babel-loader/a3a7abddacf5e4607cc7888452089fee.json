{"ast":null,"code":"\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Joystick = void 0;\n\nvar React = require(\"react\");\n\nvar shape_enum_1 = require(\"./enums/shape.enum\");\n\nvar shape_factory_1 = require(\"./shapes/shape.factory\");\n\nvar shape_bounds_factory_1 = require(\"./shapes/shape.bounds.factory\");\n\nvar InteractionEvents;\n\n(function (InteractionEvents) {\n  InteractionEvents[\"PointerDown\"] = \"pointerdown\";\n  InteractionEvents[\"PointerMove\"] = \"pointermove\";\n  InteractionEvents[\"PointerUp\"] = \"pointerup\";\n})(InteractionEvents || (InteractionEvents = {}));\n/**\n * Radians identifying the direction of the joystick\n */\n\n\nvar RadianQuadrantBinding;\n\n(function (RadianQuadrantBinding) {\n  RadianQuadrantBinding[RadianQuadrantBinding[\"TopRight\"] = 2.35619449] = \"TopRight\";\n  RadianQuadrantBinding[RadianQuadrantBinding[\"TopLeft\"] = -2.35619449] = \"TopLeft\";\n  RadianQuadrantBinding[RadianQuadrantBinding[\"BottomRight\"] = 0.785398163] = \"BottomRight\";\n  RadianQuadrantBinding[RadianQuadrantBinding[\"BottomLeft\"] = -0.785398163] = \"BottomLeft\";\n})(RadianQuadrantBinding || (RadianQuadrantBinding = {}));\n\nvar Joystick =\n/** @class */\nfunction (_super) {\n  __extends(Joystick, _super);\n\n  function Joystick(props) {\n    var _this = _super.call(this, props) || this;\n\n    _this._stickRef = React.createRef();\n    _this._baseRef = React.createRef();\n    _this._pointerId = null;\n    _this.state = {\n      dragging: false\n    };\n\n    _this._throttleMoveCallback = function () {\n      var lastCall = 0;\n      return function (event) {\n        var now = new Date().getTime();\n        var throttleAmount = _this.props.throttle || 0;\n\n        if (now - lastCall < throttleAmount) {\n          return;\n        }\n\n        lastCall = now;\n\n        if (_this.props.move) {\n          return _this.props.move(event);\n        }\n      };\n    }();\n\n    return _this;\n  }\n\n  Joystick.prototype.componentWillUnmount = function () {\n    var _this = this;\n\n    if (this.props.followCursor) {\n      window.removeEventListener(InteractionEvents.PointerMove, function (event) {\n        return _this._pointerMove(event);\n      });\n    }\n  };\n\n  Joystick.prototype.componentDidMount = function () {\n    var _this = this;\n\n    if (this.props.followCursor) {\n      //@ts-ignore\n      this._parentRect = this._baseRef.current.getBoundingClientRect();\n      this.setState({\n        dragging: true\n      });\n      window.addEventListener(InteractionEvents.PointerMove, function (event) {\n        return _this._pointerMove(event);\n      });\n\n      if (this.props.start) {\n        this.props.start({\n          type: \"start\",\n          x: null,\n          y: null,\n          distance: null,\n          direction: null\n        });\n      }\n    }\n  };\n  /**\n   * Update position of joystick - set state and trigger DOM manipulation\n   * @param coordinates\n   * @private\n   */\n\n\n  Joystick.prototype._updatePos = function (coordinates) {\n    var _this = this;\n\n    window.requestAnimationFrame(function () {\n      _this.setState({\n        coordinates: coordinates\n      });\n    });\n\n    if (typeof this.props.minDistance === 'number') {\n      if (coordinates.distance < this.props.minDistance) {\n        return;\n      }\n    }\n\n    this._throttleMoveCallback({\n      type: \"move\",\n      x: coordinates.relativeX,\n      y: -coordinates.relativeY,\n      direction: coordinates.direction,\n      distance: coordinates.distance\n    });\n  };\n  /**\n   * Handle pointerdown event\n   * @param e PointerEvent\n   * @private\n   */\n\n\n  Joystick.prototype._pointerDown = function (e) {\n    var _this = this;\n\n    if (this.props.disabled || this.props.followCursor) {\n      return;\n    } //@ts-ignore\n\n\n    this._parentRect = this._baseRef.current.getBoundingClientRect();\n    this.setState({\n      dragging: true\n    });\n    window.addEventListener(InteractionEvents.PointerUp, function (event) {\n      return _this._pointerUp(event);\n    });\n    window.addEventListener(InteractionEvents.PointerMove, function (event) {\n      return _this._pointerMove(event);\n    });\n    this._pointerId = e.pointerId; //@ts-ignore\n\n    this._stickRef.current.setPointerCapture(e.pointerId);\n\n    if (this.props.start) {\n      this.props.start({\n        type: \"start\",\n        x: null,\n        y: null,\n        distance: null,\n        direction: null\n      });\n    }\n  };\n  /**\n   * Use ArcTan2 (4 Quadrant inverse tangent) to identify the direction the joystick is pointing\n   * https://docs.oracle.com/cd/B12037_01/olap.101/b10339/x_arcsin003.htm\n   * @param atan2: number\n   * @private\n   */\n\n\n  Joystick.prototype._getDirection = function (atan2) {\n    if (atan2 > RadianQuadrantBinding.TopRight || atan2 < RadianQuadrantBinding.TopLeft) {\n      return \"FORWARD\";\n    } else if (atan2 < RadianQuadrantBinding.TopRight && atan2 > RadianQuadrantBinding.BottomRight) {\n      return \"RIGHT\";\n    } else if (atan2 < RadianQuadrantBinding.BottomLeft) {\n      return \"LEFT\";\n    }\n\n    return \"BACKWARD\";\n  };\n  /**\n   * Hypotenuse distance calculation\n   * @param x: number\n   * @param y: number\n   * @private\n   */\n\n\n  Joystick.prototype._distance = function (x, y) {\n    return Math.hypot(x, y);\n  };\n\n  Joystick.prototype._distanceToPercentile = function (distance) {\n    var percentageBaseSize = distance / (this._baseSize / 2) * 100;\n\n    if (percentageBaseSize > 100) {\n      return 100;\n    }\n\n    return percentageBaseSize;\n  };\n  /**\n   * Calculate X/Y and ArcTan within the bounds of the joystick\n   * @param event\n   * @private\n   */\n\n\n  Joystick.prototype._pointerMove = function (event) {\n    event.preventDefault();\n\n    if (this.state.dragging) {\n      if (!this.props.followCursor && event.pointerId !== this._pointerId) return;\n      var absoluteX = event.clientX;\n      var absoluteY = event.clientY;\n      var relativeX = absoluteX - this._parentRect.left - this._radius;\n      var relativeY = absoluteY - this._parentRect.top - this._radius;\n\n      var dist = this._distance(relativeX, relativeY); // @ts-ignore\n\n\n      var bounded = (0, shape_bounds_factory_1.shapeBoundsFactory)( //@ts-ignore\n      this.props.controlPlaneShape || this.props.baseShape, absoluteX, absoluteY, relativeX, relativeY, dist, this._radius, this._baseSize, this._parentRect);\n      relativeX = bounded.relativeX;\n      relativeY = bounded.relativeY;\n      var atan2 = Math.atan2(relativeX, relativeY);\n\n      this._updatePos({\n        relativeX: relativeX,\n        relativeY: relativeY,\n        distance: this._distanceToPercentile(dist),\n        direction: this._getDirection(atan2),\n        axisX: absoluteX - this._parentRect.left,\n        axisY: absoluteY - this._parentRect.top\n      });\n    }\n  };\n  /**\n   * Handle pointer up and de-register listen events\n   * @private\n   */\n\n\n  Joystick.prototype._pointerUp = function (event) {\n    var _this = this;\n\n    if (event.pointerId !== this._pointerId) return;\n    var stateUpdate = {\n      dragging: false\n    };\n\n    if (!this.props.sticky) {\n      stateUpdate.coordinates = undefined;\n    }\n\n    window.requestAnimationFrame(function () {\n      _this.setState(stateUpdate);\n    });\n    window.removeEventListener(InteractionEvents.PointerUp, function (event) {\n      return _this._pointerUp(event);\n    });\n    window.removeEventListener(InteractionEvents.PointerMove, function (event) {\n      return _this._pointerMove(event);\n    });\n    this._pointerId = null;\n\n    if (this.props.stop) {\n      this.props.stop({\n        type: \"stop\",\n        // @ts-ignore\n        x: this.props.sticky ? this.state.coordinates.relativeX : null,\n        // @ts-ignore\n        y: this.props.sticky ? this.state.coordinates.relativeY : null,\n        // @ts-ignore\n        direction: this.props.sticky ? this.state.coordinates.direction : null,\n        // @ts-ignore\n        distance: this.props.sticky ? this.state.coordinates.distance : null\n      });\n    }\n  };\n  /**\n   * Get the shape stylings for the base\n   * @private\n   */\n\n\n  Joystick.prototype.getBaseShapeStyle = function () {\n    var shape = this.props.baseShape || shape_enum_1.JoystickShape.Circle;\n    return (0, shape_factory_1.shapeFactory)(shape, this._baseSize);\n  };\n  /**\n   * Get the shape stylings for the stick\n   * @private\n   */\n\n\n  Joystick.prototype.getStickShapeStyle = function () {\n    var shape = this.props.stickShape || shape_enum_1.JoystickShape.Circle;\n    return (0, shape_factory_1.shapeFactory)(shape, this._baseSize);\n  };\n  /**\n   * Calculate base styles for pad\n   * @private\n   */\n\n\n  Joystick.prototype._getBaseStyle = function () {\n    var baseColor = this.props.baseColor !== undefined ? this.props.baseColor : \"#000033\";\n    var baseSizeString = \"\".concat(this._baseSize, \"px\");\n\n    var padStyle = __assign(__assign({}, this.getBaseShapeStyle()), {\n      height: baseSizeString,\n      width: baseSizeString,\n      background: baseColor,\n      display: 'flex',\n      justifyContent: 'center',\n      alignItems: 'center'\n    });\n\n    if (this.props.baseImage) {\n      padStyle.background = \"url(\".concat(this.props.baseImage, \")\");\n      padStyle.backgroundSize = '100%';\n    }\n\n    return padStyle;\n  };\n  /**\n   * Calculate  base styles for joystick and translate\n   * @private\n   */\n\n\n  Joystick.prototype._getStickStyle = function () {\n    var stickColor = this.props.stickColor !== undefined ? this.props.stickColor : \"#3D59AB\";\n    var stickSize = \"\".concat(this._baseSize / 1.5, \"px\");\n\n    var stickStyle = __assign(__assign({}, this.getStickShapeStyle()), {\n      background: stickColor,\n      cursor: \"move\",\n      height: stickSize,\n      width: stickSize,\n      border: 'none',\n      flexShrink: 0,\n      touchAction: 'none'\n    });\n\n    if (this.props.stickImage) {\n      stickStyle.background = \"url(\".concat(this.props.stickImage, \")\");\n      stickStyle.backgroundSize = '100%';\n    }\n\n    if (this.state.coordinates !== undefined) {\n      stickStyle = Object.assign({}, stickStyle, {\n        position: 'absolute',\n        transform: \"translate3d(\".concat(this.state.coordinates.relativeX, \"px, \").concat(this.state.coordinates.relativeY, \"px, 0)\")\n      });\n    }\n\n    return stickStyle;\n  };\n\n  Joystick.prototype.render = function () {\n    var _this = this;\n\n    this._baseSize = this.props.size || 100;\n    this._radius = this._baseSize / 2;\n\n    var baseStyle = this._getBaseStyle();\n\n    var stickStyle = this._getStickStyle(); //@ts-ignore\n\n\n    return React.createElement(\"div\", {\n      className: this.props.disabled ? 'joystick-base-disabled' : '',\n      ref: this._baseRef,\n      style: baseStyle\n    }, React.createElement(\"button\", {\n      ref: this._stickRef,\n      disabled: this.props.disabled,\n      onPointerDown: function (event) {\n        return _this._pointerDown(event);\n      },\n      className: this.props.disabled ? 'joystick-disabled' : '',\n      style: stickStyle\n    }));\n  };\n\n  return Joystick;\n}(React.Component);\n\nexports.Joystick = Joystick;","map":{"version":3,"mappings":"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","names":["InteractionEvents","RadianQuadrantBinding","__extends","props","_super","_this","React","createRef","state","dragging","_throttleMoveCallback","lastCall","event","now","Date","getTime","throttleAmount","throttle","move","Joystick","followCursor","window","removeEventListener","PointerMove","_pointerMove","_parentRect","_baseRef","current","getBoundingClientRect","setState","addEventListener","start","type","x","y","distance","direction","coordinates","requestAnimationFrame","minDistance","relativeX","relativeY","e","disabled","PointerUp","_pointerUp","_pointerId","pointerId","_stickRef","setPointerCapture","atan2","TopRight","TopLeft","BottomRight","BottomLeft","Math","hypot","percentageBaseSize","_baseSize","preventDefault","absoluteX","clientX","absoluteY","clientY","left","_radius","top","dist","_distance","bounded","controlPlaneShape","baseShape","_updatePos","_distanceToPercentile","_getDirection","axisX","axisY","stateUpdate","sticky","undefined","stop","shape","shape_enum_1","Circle","stickShape","baseColor","baseSizeString","padStyle","__assign","getBaseShapeStyle","height","width","background","display","justifyContent","alignItems","baseImage","backgroundSize","stickColor","stickSize","stickStyle","getStickShapeStyle","cursor","border","flexShrink","touchAction","stickImage","Object","assign","position","transform","concat","size","baseStyle","_getBaseStyle","_getStickStyle","className","ref","style","onPointerDown","_pointerDown","Component","exports"],"sources":["../../src/Joystick.tsx"],"sourcesContent":[null]},"metadata":{},"sourceType":"script"}